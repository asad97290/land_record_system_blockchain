{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/asadullah/LandProject/src/components/Signin/Data.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nfunction Data() {\n  let cert;\n  const url = \"https://192.168.0.111:4000/users/login\";\n  let conf = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n\n  const showFile = async e => {\n    e.preventDefault();\n    const reader = new FileReader();\n\n    reader.onload = async e => {\n      cert = e.target.result;\n    };\n\n    reader.readAsText(e.target.files[0]);\n  };\n\n  const login = () => {\n    let ownerCnic = document.getElementById(\"file1\").value.slice(12, -7);\n    let type = document.getElementById(\"file1\").value.slice(-7, -3);\n    let data = {\n      ownerCnic,\n      type,\n      certificate: cert\n    };\n    axios.post(url, data, conf).then(response => {\n      if (response.data.success) {\n        localStorage.setItem(\"token\", JSON.stringify(response.data.message.token));\n        localStorage.setItem(\"ownerCnic\", ownerCnic);\n        localStorage.setItem(\"type\", type);\n        window.location.pathname = \"/profile/\" + ownerCnic;\n      } else if (response.data.success === false) {\n        alert(\"Wrong Certificate\");\n      }\n    }).catch(err => {\n      alert(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row row-content text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 my-2 d-flex justify-content-center px-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: \"400px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Identity Certificate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"To signin into the network you have to upload the platform identity certificate which has been issued to you during your registration.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-3 py-2 mb-3 rounded text-white bg-theme-secondary\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: e => showFile(e),\n              type: \"file\",\n              id: \"file1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: login,\n            className: \"btn button-hover bg-theme text-white\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_c = Data;\nexport default Data;\n\nvar _c;\n\n$RefreshReg$(_c, \"Data\");","map":{"version":3,"sources":["/home/asadullah/LandProject/src/components/Signin/Data.js"],"names":["React","axios","Data","cert","url","conf","headers","showFile","e","preventDefault","reader","FileReader","onload","target","result","readAsText","files","login","ownerCnic","document","getElementById","value","slice","type","data","certificate","post","then","response","success","localStorage","setItem","JSON","stringify","message","token","window","location","pathname","alert","catch","err","maxWidth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios'\nfunction Data() {\n\n    let cert;\n    const url = \"https://192.168.0.111:4000/users/login\";\n    let conf = {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    }\n    const showFile = async (e) => {\n        e.preventDefault()\n        const reader = new FileReader()\n        reader.onload = async (e) => {\n            cert = (e.target.result)\n        }\n        reader.readAsText(e.target.files[0])\n    }\n    const login = () => {\n        let ownerCnic = document.getElementById(\"file1\").value.slice(12, -7)\n        let type = document.getElementById(\"file1\").value.slice(-7, -3)\n        let data = {\n            ownerCnic,\n            type,\n            certificate: cert\n        }\n        axios.post(url, data, conf).then(response => {\n\n            if (response.data.success) {\n                localStorage.setItem(\"token\", JSON.stringify(response.data.message.token))\n                localStorage.setItem(\"ownerCnic\", ownerCnic)\n                localStorage.setItem(\"type\", type)\n                window.location.pathname = \"/profile/\" + ownerCnic\n\n            }\n            else if (response.data.success === false) {\n                alert(\"Wrong Certificate\")\n            }\n\n        }).catch((err) => {\n            alert(err)\n        })\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"row row-content text-center\" >\n                <div className=\"col-12 my-2 d-flex justify-content-center px-3\">\n                    <div style={{ maxWidth: \"400px\" }}>\n                        <h2>Identity Certificate</h2>\n                        <p>To signin into the network you have to upload the platform identity certificate which has been issued to you during your registration.</p>\n                        <div className=\"px-3 py-2 mb-3 rounded text-white bg-theme-secondary\" >\n                            <input onChange={(e) => showFile(e)} type=\"file\" id=\"file1\" />\n                        </div>\n                        <button onClick={login} className=\"btn button-hover bg-theme text-white\" >Login</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Data;\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}